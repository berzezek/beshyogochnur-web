import{_ as k}from"./Dm8WjGkF.js";import{_ as w}from"./D8SHTWEt.js";import{m as C,u as M,r as g,p as B,o as i,c as m,q as o,s as N,z as u,a as s,t as n,A as S,b as O,y as j,_ as F}from"./4DfHR1Dw.js";import{u as T}from"./CJ59Clvv.js";const V={class:"module"},x={key:1,class:"container"},z={class:"row"},A={class:"col-sm-6 mb-sm-40"},E={class:"gallery"},I=["src","alt"],R={class:"col-sm-6"},q={class:"row"},D={class:"row mb-20"},J={class:"col-sm-8"},K={class:"col-sm-12"},P={class:"product-title font-alt"},G={class:"row mb-20"},H={class:"col-sm-12"},L={class:"price font-alt"},Q={class:"amount"},U={class:"row mb-20"},W={class:"col-sm-12"},X={class:"description"},Y={class:"row mb-20"},Z={class:"col-sm-8"},ss={class:"modal-content"},ts=C({__name:"[slug]",async setup(os){let r,p;const l=j(),v=M(),h=g({}),{data:e,pending:f,error:es}=([r,p]=B(()=>T(`${l.public.apiBase}products/${v.params.slug}/`,"$fbSnKOncDz")),r=await r,p(),r),d=g(!1),_=()=>{d.value=!d.value},y=async t=>{try{h.value=e.value;const a=`Информация о заказе:
	Имя: ${t.userName}
	Email: ${t.email}
	Телефон: ${t.phone}
	Сообщение: ${t.message}
	Продукт: ${h.value.name}`,c=await fetch(`https://api.telegram.org/bot${l.public.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:l.public.chatId,text:a})});return c.ok?{status:"success",data:await c.json()}:{status:"error",message:"Failed to send message",error:await c.json()}}catch(a){return{status:"error",message:"Failed to send message",error:a}}finally{_()}};return(t,a)=>{const c=k,b=w;return i(),m("section",V,[o(f)?(i(),N(c,{key:0})):u("",!0),o(e)?(i(),m("div",x,[s("div",z,[s("div",A,[s("a",E,[s("img",{src:o(e).image,alt:o(e).name},null,8,I)])]),s("div",R,[s("div",q,[s("div",D,[s("div",J,[s("a",{onClick:a[0]||(a[0]=$=>t.$router.go(-1)),class:"btn btn-lg btn-block btn-round btn-w"},n(t.$t("back")),1)])]),s("div",K,[s("h1",P,n(o(e).name),1)])]),s("div",G,[s("div",H,[s("div",L,[s("span",Q,n(o(e).price)+" "+n(t.$t("currency")),1)])])]),s("div",U,[s("div",W,[s("div",X,[s("p",null,n(o(e).description),1)])])]),s("div",Y,[s("div",Z,[s("a",{class:"btn btn-lg btn-block btn-round btn-b",onClick:_},n(t.$t("order_now")),1)])])])])])):u("",!0),o(d)?(i(),m("div",{key:2,class:"modal-overlay",onClick:S(_,["self"])},[s("div",ss,[O(b,{onSendMess:y})])])):u("",!0)])}}}),is=F(ts,[["__scopeId","data-v-0c0f76ea"]]);export{is as default};
